<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- <link rel="stylesheet" href="./css/style.css"> -->
    <link rel="stylesheet" href="./css/bootstrap.css">
    <script src="./js/bootstrap.js"></script>
    <script src="./js/jquery-3.2.1.js"></script>
    <script src="./js/vue.js"></script>
    <title>Cart Demo</title>
    <style>
    .table tbody tr td{
            vertical-align: middle;
        }
    </style>
</head>

<body style="margin:0 10%">
    <div id="app">
        <div class="page-header">
                <h1>满屋花 <small>一花一世界</small></h1>
              </div>
    <div class="row">
        <div class="col-sm-12">
        <ul class="nav nav-pills nav-justified">
            <li role="presentation" class="active"><a href="#">鲜花礼品</a></li>
            <li role="presentation" v-for="navitem in navitems"><a href="#">{{navitem}}</a></li>
        </ul>
        </div>        
    </div>
    <br>
    <div class="row">
        <div class="col-sm-3">
            <img class="img-responsive" src="images/login.jpg" />
            <form action="">
            <div class="form-group">
                <label for="exampleInputEmail1">用户：</label>
                <input type="text" class="form-control input-sm">
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">密码：</label>
                <input type="password" class="form-control input-sm">
            </div>
            <button type="submit" class="btn btn-primary btn-sm">登录</button>
            <button type="submit" class="btn btn-success btn-sm">注册</button>
            <button type="submit" class="btn btn-link btn-sm">忘记密码</button>
        </form>
        <img class="img-responsive" src="images/category.jpg" />
            <div class="list-group">
                <a href="#" class="list-group-item active">用途</a>
                <a href="#" v-for="floweruse in floweruses" class="list-group-item">{{floweruse}}</a>
            </div>
            <div class="list-group">
                <a href="#" class="list-group-item active">花材</a>
                <a href="#" v-for="flower in flowers" class="list-group-item">{{flower}}</a>
            </div>
            <div class="list-group">
                <a href="#" class="list-group-item active">价格</a>
                <a href="#" v-for="pricerange in priceranges" class="list-group-item">{{pricerange}}</a>
            </div>
        </div>
        <div class="col-sm-9">
            <div class="row">
                <div class="col-sm-12">
                    <table class="table">
                        <tr style="width:100%">
                            <th>编号</th>
                            <th>商品名称</th>
                            <th>市场价</th>
                            <th>现价</th>
                            <th>数量</th>
                            <th>删除商品</th>
                        </tr>
                        <tr v-for="good in goods" v-if="!good.isdelete">
                            <td>{{good.code}}</td>
                            <td>{{good.name}}</td>
                            <td>￥{{good.price}}</td>
                            <td>￥{{discountprice(good.price)}}</td>
                            <td>
                                <input type="text" class="form-control" v-model="good.count" style="width:50px">
                                
                            </td>
                            <td>
                                <button type="button" @click="deletegood(good)" class="btn btn-danger">删除</button>
                            </td>
                        </tr>
                    </table>
                    <hr>
                    <div class="panel panel-default">
                            <div class="panel-body">
                              合计：￥{{totalprice()}}
                            </div>
                            <div class="panel-footer" style="text-align:right">
                                <button class="btn btn-danger">清空购物车</button>
                                <button class="btn btn-info">继续挑选商品</button>
                                <button class="btn btn-success">提交我的订单</button>
                            </div>
                          </div>
                </div>
            </div>

        </div>
    </div>
</div>

    <script>
        var app = new Vue({
            el: '#app',
            data: {
                goods: [{
                    code: 9010754,
                    name: '[鲜花]陪伴在你身边',
                    price: 220,
                    count: 1,
                    isdelete:false
                },
                {
                    code: 9010818,
                    name: '[鲜花]蓝色之恋',
                    price: 155,
                    count: 2,
                    isdelete:false
                }],
                flowers:['玫瑰','百合','郁金香','太阳花','康乃馨','马蹄莲','扶郎','剑兰'],
                navitems:['自助订花','绿色植物','花之物语','会员中心','联系我们','支付我们'],
                floweruses:['爱情鲜花','生日送花','新年鲜花','家庭用花','亲情用花','道歉鲜花','开业花篮','会议用花'],
                priceranges:['100~200','200~300','300~400','400~500','500~600']
            },
            methods: {
                discountprice: function (price) {
                    return price * 0.9;
                },
                totalprice:function(){
                    let total=0;
                    for(let i=0;i<this.goods.length;i++){
                        if(this.goods[i].isdelete===false){
                        total+=this.goods[i].price*0.9*this.goods[i].count;
                        }
                    }
                    return total;
                },
                deletegood:function(good){
                    return good.isdelete=true;
                }
            }
        });
    </script>
</body>

</html>